[括号匹配？](https://codeforces.com/contest/1657/problem/C)

贪心，模拟，双指针

## 找最短前缀

要求是找这个前缀是一个规则的括号序列 or 长度至少为2的回文。如果可以通过将字符“+”和“1”插入到括号序列中来获得正确的算术表达式，则该括号序列称为正则序列。

因为要找到最短，那么最短的情况一定是len(s)=2


如果在一个序列里第一位是 "(" ,第二位如果是")",符合条件1，如果是"("符合条件2，

那么只要s[left:]中left值是"(" && 长度大于1 ：那么一定有符合条件的最短子序列，left+=2;

如果在这个子序列里第一位是")",那么我们需要考虑一下第二位，如果是")",符合条件2，是回文串，如果不是，那么它一定不能实现合法的括号匹配，因为第一位不是"(",所以我们只能寻找一个合法的回文。

于是问题又变成了找回文串，我们只需要找到一个高效的方法判断回文串

```python
            r = l + 1
            while r < n and s[r] != ')':
                r += 1
            if r == n:
                break
            l = r + 1
```

